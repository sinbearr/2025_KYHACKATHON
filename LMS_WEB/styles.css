:root{
  --bg-dark:#3d4349;
  --bg-side:#eceff3;
  --border:#d2d9e0;
  --panel-border:#d7dde4;

  --card-brown:#6d5e49;   /* 활성 카드 */
  --card-white:#ffffff;   /* 비활성 카드 */

  --pill-red:#c85055;
  --pill-red-border:#b94146;
  --pill-green:#2e8f59;
  --pill-green-border:#267547;
  --pill-yellow:#f6c31b;
  --pill-yellow-border:#d9aa0f;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0;
  font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  background:#d8dde2;
  color:#111;
}

/* ── 상단바 ── */
.topbar{
  background:#3d4349; padding:12px 18px;
  display:flex; justify-content:space-between; align-items:center;
}
.topbar .title {
  color:#fff !important;
  font-weight:700;
  font-size:18px;
  position:relative;
  padding-left:10px;
  border-left:4px solid #f28c38;
}
.topbar .right{ display:flex; align-items:center; gap:14px; color:#e8edf2; }
.close-btn{ background:#555c63; border:1px solid #464c52; color:#fff; padding:5px 8px; border-radius:4px; cursor:pointer; }

/* ── 레이아웃 ── */
.container{
  display:grid;
  grid-template-columns:350px 1fr;
  height:calc(100vh - 56px);   /* 상단바 제외 화면 전체 */
  align-items:stretch;         /* 양쪽 칼럼 높이 동일하게 */
  background-color:#d8dde2;
  overflow:hidden;             /* 페이지 스크롤 방지 */
}

/* ── 사이드바 ── */
.sidebar{
  background:#d8dde2;
  border-right:none;
  padding:12px;
  border-top-left-radius:10px;
  border-bottom-left-radius:10px;
  height:100%;                 /* 부모 높이에 맞춤 */
  box-sizing:border-box;
  display:flex; flex-direction:column;
  overflow:hidden;             /* 둥근모서리 유지 */
}

.sidebar-panel{
  background:#fff;
  border:1px solid var(--panel-border);
  border-radius:10px;
  padding:12px;
  flex:1 1 auto;
  min-height:0;                /* 내부 스크롤 여유 */
  overflow:auto;               /* 사이드바 내부 스크롤 */
  box-shadow:inset 0 0 0 1px #f0f3f6;
}
a.lesson-card{
  text-decoration:none;
  color:inherit;
  display:block;
  margin-bottom:12px;
}

/* 카드 */
.lesson-card{
  background:var(--card-white);
  border:1px solid #dfe4ea;
  border-radius:12px;
  padding:12px;
  height:84px;
  display:flex; align-items:center;
  box-shadow:0 1px 2px rgba(0,0,0,.06);
}
.lesson-card.is-active{
  background:var(--card-brown);
  color:#fff;
  border-color:rgba(0,0,0,.08);
  box-shadow:0 2px 4px rgba(0,0,0,.12), inset 0 0 0 1px rgba(255,255,255,.06);
}

/* 내부 그리드 */
.lesson-card__grid{
  display:grid;
  grid-template-columns:52px 1fr auto;
  grid-template-rows:auto auto;
  column-gap:10px; row-gap:4px;
  align-items:center;
  width:100%;
}

/* 번호 원형 */
.circle{
  grid-row:1 / span 2;
  grid-column:1;
  width:50px; height:50px; border-radius:50%;
  background:#d8dde3; color:#333; font-weight:700;
  display:flex; align-items:center; justify-content:center;
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.65);
}

/* 유형 / 제목 */
.type{ grid-row:1; grid-column:2; font-size:13px; color:#666; }
.lesson-card.is-active .type{ color:#f2f2f2; }
.title{
  grid-row:2; grid-column:2;
  font-size:16px; font-weight:700;
  color:#222; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.lesson-card.is-active .title{ color:#fff; }

/* 상태 알약 */
.status{
  grid-row:2; grid-column:3;
  font-size:13px; font-weight:700;
  padding:6px 14px;
  border-radius:20px;
  white-space:nowrap;
  border:1px solid #cfd6de;
  text-align:center;
}
.status--incomplete{ background:var(--pill-red); color:#fff; border-color:var(--pill-red-border); }
.status--complete{   background:var(--pill-green); color:#fff; border-color:var(--pill-green-border); }
.status--pending{    background:var(--pill-yellow); color:#333; border-color:var(--pill-yellow-border); }

/* ── 콘텐츠 ── */
.content{
  padding:16px 10px;
  background:transparent;
  border-top-right-radius:10px;
  border-bottom-right-radius:10px;
  height:100%;
  box-sizing:border-box;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* ── 비디오 프레임 ── */
.video-frame{
  background:#f7f9fb;
  border:1px solid var(--panel-border);
  border-radius:10px;
  flex:1 1 auto;               /* 사이드바와 비율 맞춤 */
  min-height:0;
  position:relative;
  padding-top:42px;
  box-shadow:inset 0 0 0 1px #fff;
  overflow:visible;             /* 둥근 모서리 유지 */
}

.time-display{
  position:absolute;
  top:0; left:50%;
  transform:translate(-50%, -30%);
  z-index:2;
  background:#4a5056;
  color:#dce2e8;
  padding:6px 14px;
  font-size:12px;
  border-radius:4px;
  border:1px solid #303438;
}

.video-player{
  width:100%;
  height:calc(100% - 48px);    /* 배지 영역 제외 */
  object-fit:contain;
  background:#000;
  display:block;
  border:none;
  border-radius:10px;
}

/* ── 게시판 ── */
.board{
  flex:1 1 auto;               /* 사이드바와 높이 동일하게 */
  min-height:0;
  background:#fff;
  border:1px solid var(--panel-border);
  border-radius:10px;
  padding:16px;
  display:flex;
  flex-direction:column;
}
.board__breadcrumb{
  display:flex; align-items:center; gap:6px;
  margin:6px 8px 18px;
  border-bottom:2px solid #f0a44a;
  padding-bottom:8px;
  font-size:15px;
}
.board__card{
  border:1px solid #dfe4ea;
  border-radius:6px;
  overflow:hidden;
}
.board__titlebar{
  background:#f2f4f6;
  border-bottom:1px solid #dfe4ea;
  padding:12px 16px;
}
.board__title{ margin:0; font-size:18px; }
.board__meta{
  padding:12px 16px;
  color:#6b7280;
  font-size:13px;
  border-bottom:1px solid #eceff3;
}
.board__body{
  padding:18px 16px;
  border-bottom:1px solid #eceff3;
}
.board__comment{ padding:16px; }
.board__comment-label{ display:block; font-weight:700; margin-bottom:8px; }
.board__comment-row{ display:flex; gap:12px; align-items:stretch; }
.board__comment-input{
  flex:1; min-height:120px;
  resize:vertical;
  border:1px solid #cfd6de;
  border-radius:4px;
  padding:10px;
  font-family:inherit;
}
.board__comment-btn{
  width:100px;
  border:1px solid #cfd6de;
  background:#f3f4f6;
  border-radius:4px;
  cursor:pointer;
  font-weight:700;
}

/* ── 반응형 ── */
@media (max-width:1000px){
  .container{ grid-template-columns:280px 1fr; }
}
@media (max-width:760px){
  .container{ grid-template-columns:1fr; }
  .sidebar{ height:300px; border-radius:0; }
}
